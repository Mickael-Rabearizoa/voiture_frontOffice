import{r as b,j as e,S as i,e as p,T as l,G as P,C as G,B as g,n as M,I as R,L as I,i as F,y as z,P as c,z as N,M as W,A as q,D as U,h as V,x as _,E as H,W as $}from"./index-43ff6e2d.js";import{M as Y}from"./blog-deecd85e.js";import{c as J,d as K,F as C}from"./format-number-66c06584.js";import{A as Q,a as X,F as Z,R as S,b as T,C as ee,c as O}from"./color-preview-bf38c1c8.js";import{T as y}from"./TextField-1cff618a.js";import{C as te}from"./Checkbox-60f7a729.js";import{G as v}from"./Grid-12b6760a.js";import"./Select-5e3d5f29.js";import"./Menu-e47c6deb.js";import"./Popper-bd852e16.js";function k({post:o,index:t}){const{nom_modele:a,prix:u,annee:x}=o,[d,h]=b.useState(!1),m=()=>{h(()=>h(!d))},s=t===-1,r=t===-1||t===-1,n=e.jsxs(g,{children:[e.jsx(I,{color:"inherit",variant:"subtitle2",underline:"hover",sx:{fontSize:15,height:44,overflow:"hidden",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical",...s&&{typography:"h3",height:60},...(s||r)&&{color:"common.white"}},children:a}),e.jsx(l,{variant:"body1",sx:{color:"green",fontSize:15,mt:1},children:`Ar ${u}`})]}),f=e.jsx(i,{direction:"row",flexWrap:"wrap",spacing:1.5,justifyContent:"flex-end",sx:{mt:3,color:"text.disabled"},children:[{number:x,icon:"eva:trending-up-outline "},{number:u}].map((j,E)=>e.jsxs(i,{direction:"row",sx:{...(s||r)&&{opacity:.48,color:"common.white"}},children:[e.jsx(p,{width:16,icon:j.icon,sx:{mr:.5}}),e.jsx(l,{variant:"caption",children:J(j.number)})]},E))}),A=e.jsx(l,{variant:"caption",component:"div",sx:{mb:2,color:"text.disabled",...(s||r)&&{opacity:.48,color:"common.white"}},children:K(x)}),D=e.jsx(z,{color:"paper",src:"/assets/icons/shape-avatar.svg",sx:{width:80,height:36,zIndex:9,bottom:-15,position:"absolute",color:"background.paper",...(s||r)&&{display:"none"}}});return e.jsx(P,{xs:12,sm:s?12:6,md:s?6:3,children:e.jsxs(G,{children:[e.jsx(g,{sx:{position:"relative",pt:"calc(100% * 3 / 4)",...(s||r)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:j=>M(j.palette.grey[900],.72)}},...s&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}},children:D}),e.jsxs(g,{sx:{p:j=>j.spacing(4,3,3,3),...(s||r)&&{width:1,bottom:0,position:"absolute"}},children:[A,n,f]}),e.jsx(g,{sx:{p:3},children:e.jsxs(i,{direction:"row",spacing:1,children:[e.jsx(R,{onClick:m,children:e.jsx(p,{icon:d?"ic:baseline-favorite":"ic:outline-favorite-border"})}),e.jsx(I,{href:"/detail",underline:"none",children:e.jsx(F,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"outlined",startIcon:e.jsx(p,{icon:"ic:round-clear-all"}),children:"Voir détail"})})]})})]})})}k.propTypes={post:c.object.isRequired,index:c.number};B.propTypes={posts:c.array.isRequired};function B({posts:o}){return e.jsx(Q,{sx:{width:280},autoHighlight:!0,popupIcon:null,slotProps:{paper:{sx:{width:320,[`& .${X.option}`]:{typography:"body2"}}}},options:o,getOptionLabel:t=>t.title,isOptionEqualToValue:(t,a)=>t.id===a.id,renderInput:t=>e.jsx(y,{...t,placeholder:"Search post...",InputProps:{...t.InputProps,startAdornment:e.jsx(N,{position:"start",children:e.jsx(p,{icon:"eva:search-fill",sx:{ml:1,width:20,height:20,color:"text.disabled"}})})}})})}w.propTypes={options:c.array,onSort:c.func};function w({options:o,onSort:t}){return e.jsx(y,{select:!0,size:"small",value:"latest",onChange:t,children:o.map(a=>e.jsx(W,{value:a.value,children:a.label},a.value))})}const se=["Tout","Manuelle","Automatique"],re=["Tout","Diesel","Essence","Gaz"],ne=["up4Star","up3Star","up2Star","up1Star"],ie=["#00AB55","#000000","#FFFFFF","#FFC0CB","#FF4842","#1890FF","#94D82D","#FFC107"];function L({openFilter:o,onOpenFilter:t,onCloseFilter:a}){const u=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Transmission"}),e.jsx(Z,{children:se.map(n=>e.jsx(C,{control:e.jsx(te,{}),label:n},n))})]}),x=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Carburant"}),e.jsx(S,{children:re.map(n=>e.jsx(C,{value:n,control:e.jsx(T,{}),label:n},n))})]}),d=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Colors"}),e.jsx(ee,{name:"colors",selected:[],colors:ie,onSelectColor:n=>[].includes(n),sx:{maxWidth:38*4}})]}),h=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Rating"}),e.jsx(S,{children:ne.map((n,f)=>e.jsx(C,{value:n,control:e.jsx(T,{disableRipple:!0,color:"default",icon:e.jsx(O,{readOnly:!0,value:4-f}),checkedIcon:e.jsx(O,{readOnly:!0,value:4-f}),sx:{"&:hover":{bgcolor:"transparent"}}}),label:"& Up",sx:{my:.5,borderRadius:1,"&:hover":{opacity:.48}}},n))})]}),m=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Marque"}),e.jsx(w,{options:[{value:"latest",label:"Tout"},{value:"Audi",label:"Audi"},{value:"Bentley",label:"Bentley"},{value:"Dacia",label:"Dacia"}]})]}),s=e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Type de voiture"}),e.jsx(w,{options:[{value:"latest",label:"Tout"},{value:"Berline",label:"Berline"},{value:"Cabriolet",label:"Cabriolet"},{value:"SUV",label:"SUV"}]})]}),r=e.jsxs(v,{container:!0,spacing:1,alignItems:"center",children:[" ",e.jsx(v,{item:!0,xs:12,children:e.jsx(l,{variant:"subtitle2",children:"Prix"})}),e.jsx(v,{item:!0,xs:6,children:e.jsx(y,{name:"prixmin",label:"Prix min"})}),e.jsx(v,{item:!0,xs:6,children:e.jsx(y,{name:"prixmax",label:"Prix max"})})]});return e.jsxs(e.Fragment,{children:[e.jsx(F,{disableRipple:!0,color:"inherit",endIcon:e.jsx(p,{icon:"ic:round-filter-list"}),onClick:t,children:"Filters "}),e.jsxs(q,{anchor:"right",open:o,onClose:a,PaperProps:{sx:{width:280,border:"none",overflow:"hidden"}},children:[e.jsxs(i,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(l,{variant:"h6",sx:{ml:1},children:"Filters"}),e.jsx(R,{onClick:a,children:e.jsx(p,{icon:"eva:close-fill"})})]}),e.jsx(U,{}),e.jsx(V,{children:e.jsxs(i,{spacing:3,sx:{p:3},children:[m,s,u,x,d,r,h]})}),e.jsx(g,{sx:{p:3},children:e.jsx(F,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"outlined",startIcon:e.jsx(p,{icon:"ic:round-clear-all"}),children:"RECHERCHER"})})]})]})}L.propTypes={openFilter:c.bool,onOpenFilter:c.func,onCloseFilter:c.func};async function oe(o){try{return(await H.get(o)).data}catch(t){return console.error("Une erreur s'est produite lors de la récupération de la liste:",t),null}}function ae(){const o=Y(),[t]=b.useState([]),[a]=b.useState(!1),u=s=>{a(!0)};b.useEffect(()=>{async function s(){const r=await oe("/api/liste");r&&t(r)}s()},[t]);const[x,d]=b.useState(!1),h=()=>{d(!0)},m=()=>{d(!1)};return e.jsxs(_,{children:[e.jsx(i,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsx(l,{variant:"h4",children:"Liste des annonces"})}),e.jsxs(i,{mb:5,direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(B,{posts:o}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(L,{openFilter:x,onOpenFilter:h,onCloseFilter:m})})]}),e.jsx(P,{container:!0,spacing:3,children:o.map((s,r)=>e.jsx(k,{post:s,index:r,onOpenDetail:()=>u(s.id)},s.id))})]})}function ge(){return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx("title",{children:" Blog | Minimal UI "})}),e.jsx(ae,{})]})}export{ge as default};
